   <!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Kings Cross Hospitality Dashboard</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; background: #f5f5f5; }
    h1, h2 { color: #333; }
    section { background: #fff; padding: 20px; margin-bottom: 20px; border-radius: 10px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
    ul { list-style: none; padding-left: 0; }
    li { padding: 5px 0; border-bottom: 1px solid #eee; }
    .status-good { color: green; font-weight: bold; }
    .status-bad { color: red; font-weight: bold; }
    .status-warning { color: orange; font-weight: bold; }
  </style>
</head>
<body>
  <h1>Kings Cross Hospitality Dashboard</h1>

  <section id="weather">
    <h2>Weather</h2>
    <p id="weather-info">Loading...</p>
  </section>

  <section id="transport">
    <h2>Transport Status</h2>
    <ul id="transport-list"></ul>
  </section>

  <section id="events">
    <h2>Upcoming Events</h2>
    <ul id="events-list"></ul>
  </section>

  <section id="restaurants">
    <h2>Restaurants & Places</h2>
    <ul id="restaurants-list"></ul>
  </section>

  <section id="news">
    <h2>Local News</h2>
    <ul id="news-list"></ul>
  </section>

  <script>
    fetch('data/kingscross_dashboard.json')
      .then(res => res.json())
      .then(data => {
        // --- WEATHER ---
        const weather = data.weather || {};
        document.getElementById('weather-info').innerText =
          weather.temperature_C !== undefined
            ? `${weather.temperature_C.toFixed(1)}°C, wind ${weather.windspeed_kmh || 0} km/h`
            : 'No weather data';

        // --- TRANSPORT ---
        const transportList = document.getElementById('transport-list');
        const tfl = data.tfl || [];
        if (tfl.length === 0) {
          transportList.innerHTML = '<li>No transport data</li>';
        } else {
          tfl.forEach(line => {
            const li = document.createElement('li');
            let statusClass = 'status-bad';
            if (line.status === 'Good Service') statusClass = 'status-good';
            else if (line.status.includes('Minor Delays')) statusClass = 'status-warning';
            li.innerHTML = `<strong>${line.name} (${line.mode})</strong>: <span class="${statusClass}">${line.status}</span>`;
            transportList.appendChild(li);
          });
        }

        // --- EVENTS ---
        const eventsList = document.getElementById('events-list');
        const events = data.events || [];
        if (events.length === 0) {
          eventsList.innerHTML = '<li>No upcoming events</li>';
        } else {
          events.forEach(ev => {
            const li = document.createElement('li');
            li.innerHTML = `<strong>${ev.name}</strong> (${ev.start || 'N/A'}) - <a href="${ev.url || '#'}" target="_blank">Link</a>`;
            eventsList.appendChild(li);
          });
        }

        // --- RESTAURANTS ---
        const restaurantsList = document.getElementById('restaurants-list');
        const places = data.places || [];
        if (places.length === 0) {
          restaurantsList.innerHTML = '<li>No restaurant data</li>';
        } else {
          places.forEach(p => {
            const li = document.createElement('li');
            li.innerHTML = `<strong>${p.name}</strong> - ${p.rating || 'N/A'}★ (${p.vicinity || 'No address'})`;
            restaurantsList.appendChild(li);
          });
        }

        // --- NEWS ---
        const newsList = document.getElementById('news-list');
        const news = data.news || [];
        if (news.length === 0) {
          newsList.innerHTML = '<li>No news</li>';
        } else {
          news.forEach(n => {
            const li = document.createElement('li');
            li.innerHTML = `<a href="${n.url}" target="_blank">${n.title}</a>`;
            newsList.appendChild(li);
          });
        }
      })
      .catch(err => {
        console.error('Failed to load dashboard JSON:', err);
      });
  </script>
</body>
</html>
